/*!
 * Backbone.js ajaxRetry
 * https://github.com/gdibble/backbone-ajaxretry
 * Copyright 2015 Gabriel Dibble; Licensed MIT
 */
!function(t){t(function(t,e,r){function s(t){p(t,y),y=t}function n(t){return 1e3*(Math.pow(y.base,t)-y.y)}function a(){var t=Array.prototype.slice.call(arguments,0);h(t[0],this),this.hasOwnProperty("exhaust")&&this.exhaust.apply(this,t)}function i(t){var e=this;this.hasOwnProperty("retries")?(this.recursed=void 0===this.recursed?0:this.recursed+1,t&&t.status<500||this.recursed>=this.retries?a.apply(e,arguments):this.recursed<this.retries&&setTimeout(function(){$.ajax(e)},n(this.recursed))):a.apply(e,arguments)}function u(t,e){h(t[0],e&&"object"==typeof e?e:{},{retries:y.retryCount,error:function(){i.apply(this,arguments)}})}function o(){return Array.prototype.slice.call(arguments,0)}var c,p=t("lodash.defaults"),h=t("extend-object"),f=t("backbone"),y={base:2.718281828,y:.25,retryCount:3,onlyBackbone:!1};y.onlyBackbone?f.ajax=function(t){var e=o(arguments);return u(e,t),f.$.ajax.apply(f.$,e)}:(c=$.ajax,$.ajax=function(t){var e;return"string"==typeof t?(arguments[1].url=t,e=o(arguments[1]),u(e,t)):(e=o(arguments),u(e,t)),c.apply($,e)}),r.exports={set:s}})}("function"==typeof define&&define.amd?define:function(t){t(require,exports,module)});